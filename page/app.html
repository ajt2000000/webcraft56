<!DOCTYPE html>

<html>
<link rel="manifest" href="https://ioase.net/manifest.json">
    <script>
        let upArrowPressed = false;
        let downArrowPressed = false;

        window.addEventListener('keydown', function(event) {
            if (event.keyCode === 38) {
                upArrowPressed = true;
            }
            if (event.keyCode === 40) {
                downArrowPressed = true;
            }

            if (upArrowPressed && downArrowPressed) {
                window.close();
            }
        });

        window.addEventListener('keyup', function(event) {
            if (event.keyCode === 38) {
                upArrowPressed = false;
            }
            if (event.keyCode === 40) {
                downArrowPressed = false;
            }
        });
    </script>	
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js').then(function(registration) {
    // 登録成功
    console.log('ServiceWorker の登録に成功しました。スコープ: ', registration.scope);
  }).catch(function(err) {
    // 登録失敗
    console.log('ServiceWorker の登録に失敗しました。', err);
  });
}
</script>
	<head>
		<script src="jquery.min.js" charset="utf-8"></script>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="Play minecraft 1.8 in your browser" />
		<meta name="keywords" content="eaglercraft, eaglercraftx, minecraft, 1.8, 1.8.8" />
		<title>EaglercraftX 1.8</title>
		<meta property="og:locale" content="en-US" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="EaglercraftX 1.8" />
		<meta property="og:description" content="Play minecraft 1.8 in your browser" />
		<meta property="og:image" content="https://ioase.net/image/favicon.png" />
		<link type="image/png" rel="shortcut icon" href="favicon.png" />
		<script type="text/javascript" src="classes.js"></script>
		<script type="text/javascript">
			"use strict";
			window.addEventListener("load", () => {
				if(document.location.href.startsWith("file:")) {
					alert("HTTP please, do not open this file locally, run a local HTTP server and load it via HTTP");
				}else {
					
					// %%%%%%%%% launch options %%%%%%%%%%%%
					
					const relayId = Math.floor(Math.random() * 3);
					window.eaglercraftXOpts = {
						demoMode: false,
						container: "game_frame",
						assetsURI: "assets.epk",
						localesURI: "lang/",
						worldsDB: "worlds",
						servers: [
							{ addr: "wss://maximum-enormously-ocelot.ngrok-free.app", name: "CUZATU鯖メイン" },
							{ addr: "↓↓↓ここから下は特集サーバーです。↓↓↓", name: "↑↑↑公式サーバーはこちら↑↑↑" },
							{ addr: "wss://vanillamc.me", name: "VanillaMC Legacy" },
							{ addr: "wss://cbnet.lol", name: "Cheeseburger Network" },
							{ addr: "wss://asianfarmer.lol", name: "AsianF4rmer" }
						],
						relays: [
							{ addr: "wss://relay.deev.is/", comment: "lax1dude relay #1", primary: relayId == 0 },
							{ addr: "wss://relay.lax1dude.net/", comment: "lax1dude relay #2", primary: relayId == 1 },
							{ addr: "wss://6699-toast0012-eaglercraftre-0noc8qht6ya.ws-us114.gitpod.io/", comment: "EisozaRelay", primary: relayId == 2 }
						]
					};
					
					// %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
					
					var q = window.location.search;
					if(typeof q === "string" && q.startsWith("?")) {
						q = new URLSearchParams(q);
						var s = q.get("server");
						if(s) window.eaglercraftXOpts.joinServer = s;
					}
					
					main();
					
				}
			});
		</script>
	</head>
	<body style="margin:0px;width:100vw;height:100vh;overflow:hidden;" id="game_frame">
	</body>
</html>

